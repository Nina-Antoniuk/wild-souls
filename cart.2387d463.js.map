{"version":3,"sources":["js/refs.js","js/cart.js"],"names":["refs","body","document","menuBtn","querySelector","mobileMenu","closeMobileMenuBtn","mobileLoginEl","loginEl","mobileCartBtnEl","cartBtnEl","backdropEl","formCloseBtn","form","cartSection","cartCloseBtnEl","shoppingListEL","addEventListener","opensCartHandler","cart","items","addItem","product","item","title","increment","setPrice","toFixed","totalPriceEl","querySelectorAll","indexOf","innerHTML","console","log","createCartItemMurkup","push","Number","price","quantity","decrement","clear","createProduct","targetBtnParentEl","children","textContent","markup","insertAdjacentHTML","createProductItemHandler","e","target","nodeName","parentNode","classList","remove","closesCartHandler","addToCartBtnEl","goodsListEl","add","removeEventListener"],"mappings":";AAqBeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EArBf,IAAMA,EAAO,CACXC,KAAMC,SAASD,KACfE,QAASD,SAASE,cAAc,gBAChCC,WAAYH,SAASE,cAAc,mBACnCE,mBAAoBJ,SAASE,cAAc,sBAC3CG,cAAeL,SAASE,cAAc,8BACtCI,QAASN,SAASE,cAAc,iBAChCK,gBAAiBP,SAASE,cAAc,6BACxCM,UAAWR,SAASE,cAAc,gBAGlCO,WAAYT,SAASE,cAAc,aACnCQ,aAAc,KACdC,KAAMX,SAASE,cAAc,sBAG7BU,YAAaZ,SAASE,cAAc,SACpCW,eAAgBb,SAASE,cAAc,oBACvCY,eAAgBd,SAASE,cAAc,mBAG1BJ,EAAAA,EAAAA,QAAAA,QAAAA;;ACoFd,aAzGD,IAAA,EAAA,EAAA,QAAA,WAyGC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,KAAA,GAAA,GAAA,iBAAA,EAAA,OAAA,CAAA,IAAA,EAAA,GAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA/FDA,EAAKU,QAAAA,UAAUO,iBAAiB,QAASC,GAEzC,IAAMC,EAAO,CACXC,MAAO,GAEPC,QAAQC,SAAAA,GACW,IADF,EACE,EAAA,EAAA,KAAKF,OADP,IACc,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAApBG,IAAAA,EAAoB,EAAA,MACvBD,GAAAA,EAAQE,QAAUD,EAAKC,MAAO,CAC3BC,KAAAA,UAAUF,GACVG,KAAAA,SAASH,GAAMI,QAAQ,GAEtBC,IAAAA,EAAe1B,SAAS2B,iBAAiB,gBAI/C,OAHAD,EAAa,KAAKR,MAAMU,QAAQP,IAAOQ,UAAY,KAAKL,SAASH,GAAMI,QAAQ,QAC/EK,QAAQC,IAAIL,EAAa,KAAKR,MAAMU,QAAQP,OARjC,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAafW,EAAqBZ,GAChBF,KAAAA,MAAMe,KAAKb,IAGlBI,SAASJ,SAAAA,GACAc,OAAAA,OAAOd,EAAQe,OAASf,EAAQgB,UAGzCb,UAAUF,SAAAA,GACDA,OAAAA,EAAKe,UAAY,GAG1BC,UAAUhB,SAAAA,GACDA,OAAAA,EAAKe,UAAY,GAG1BE,MAAQ,WACNrB,EAAKC,MAAQ,KAKjB,SAASqB,EAAcC,GACfpB,IAAAA,EAAU,GAITA,OAHPA,EAAQE,MAAQkB,EAAkBC,SAAS,GAAGC,YAC9CtB,EAAQe,MAAQK,EAAkBC,SAAS,GAAGA,SAAS,GAAGC,YAC1DtB,EAAQgB,SAAW,EACZhB,EAGT,SAASY,EAAqBZ,GACtBuB,IAAAA,EAAgBvB,OAAAA,OAAAA,EAAQE,MAEQF,wHAAAA,OAAAA,EAAQgB,SAGLnB,kKAAAA,OAAAA,EAAKO,SAASJ,GALvD,oEAOAN,eAAe8B,mBAAmB,YAAaD,GAGjD,SAASE,EAAyBC,GAC5BA,GAAsB,WAAtBA,EAAEC,OAAOC,SAATF,CAGIN,IACApB,EAAUmB,EADUO,EAAEC,OAAOE,YAEnChC,EAAKE,QAAQC,IAIjB,SAASJ,IACFJ,EAAAA,QAAAA,YAAYsC,UAAUC,OAAO,aAC7BtC,EAAAA,QAAAA,eAAeE,iBAAiB,QAASqC,GAGzBpD,SAASE,cAAc,qBAAxCmD,IACAC,EAActD,SAASE,cAAc,kBAEvBF,SAAS2B,iBAAiB,iBAC1B3B,SAAS2B,iBAAiB,iBAE9C2B,EAAYvC,iBAAiB,QAAS8B,GAGtC,SAASO,IACFxC,EAAAA,QAAAA,YAAYsC,UAAUK,IAAI,aAC1B1C,EAAAA,QAAAA,eAAe2C,oBAAoB,QAASJ","file":"cart.2387d463.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  body: document.body,\n  menuBtn: document.querySelector('#menu-btn-js'),\n  mobileMenu: document.querySelector('#mobile-menu-js'),\n  closeMobileMenuBtn: document.querySelector('#close-menu-btn-js'),\n  mobileLoginEl: document.querySelector('.mobile-menu__login-btn-js'),\n  loginEl: document.querySelector('.login-btn-js'),\n  mobileCartBtnEl: document.querySelector('.mobile-menu__cart-btn-js'), \n  cartBtnEl: document.querySelector('.cart-btn-js'),\n  \n  // registration form\n  backdropEl: document.querySelector('.backdrop'),\n  formCloseBtn: null,\n  form: document.querySelector('.registration-form'),\n\n  // cart\n  cartSection: document.querySelector('.cart'),\n  cartCloseBtnEl: document.querySelector('.cart__close-btn'),\n  shoppingListEL: document.querySelector('.shopping-list'),\n}\n\nexport default refs;","import refs from './refs';\n\n// const addToCartBtnEl = document.querySelector('.goods__slide-btn');\n// const goodsListEl = document.querySelector('.goods-list-js');\n\n// const decremrntEl = document.querySelectorAll('.decrement-js');\n// const incremrntEl = document.querySelectorAll('.increment-js');\n\n// goodsListEl.addEventListener('click', createProductItemHandler);\n\nrefs.cartBtnEl.addEventListener('click', opensCartHandler);\n\nconst cart = {\n  items: [],\n\n  addItem(product) {\n    for (let item of this.items) {\n      if (product.title === item.title) {\n        this.increment(item);\n        this.setPrice(item).toFixed(2);\n\n        const totalPriceEl = document.querySelectorAll('#total-price');\n        totalPriceEl[this.items.indexOf(item)].innerHTML = this.setPrice(item).toFixed(2);\n        console.log(totalPriceEl[this.items.indexOf(item)]);\n        \n        return\n      }\n    }\n    createCartItemMurkup(product);\n    this.items.push(product);\n  },\n\n  setPrice(product) {\n    return Number(product.price) * product.quantity;\n  },\n\n  increment(item) {\n    return item.quantity += 1;\n  },\n\n  decrement(item) {\n    return item.quantity -= 1;\n  },\n  \n  clear() {\n    cart.items = [];\n  }\n}\n\n\nfunction createProduct(targetBtnParentEl) {\n  const product = {}\n  product.title = targetBtnParentEl.children[0].textContent;\n  product.price = targetBtnParentEl.children[1].children[0].textContent;\n  product.quantity = 1;\n  return product;\n}\n\nfunction createCartItemMurkup(product) {\n  const markup = `<li>${product.title} \n                  <button class=\"decrement-js\" type=\"button\"> - </button>\n                  <span id=\"quantity\">${product.quantity}</span>\n                  <button class=\"increment-js\" type=\"button\"> + </button>\n                  - total price\n                  <span id=\"total-price\">${cart.setPrice(product)}</span> &#8364;\n                  <button>Delete</button></li >`;\n  shoppingListEL.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction createProductItemHandler(e) {\n  if (e.target.nodeName !== \"BUTTON\") {\n    return\n  } else {\n    const targetBtnParentEl = e.target.parentNode;\n    const product = createProduct(targetBtnParentEl);\n    cart.addItem(product);\n  }\n}\n\nfunction opensCartHandler() {\n  refs.cartSection.classList.remove('is-hidden');\n  refs.cartCloseBtnEl.addEventListener('click', closesCartHandler);\n\n  \nconst addToCartBtnEl = document.querySelector('.goods__slide-btn');\nconst goodsListEl = document.querySelector('.goods-list-js');\n\nconst decremrntEl = document.querySelectorAll('.decrement-js');\nconst incremrntEl = document.querySelectorAll('.increment-js');\n\ngoodsListEl.addEventListener('click', createProductItemHandler);\n}\n\nfunction closesCartHandler() {\n  refs.cartSection.classList.add('is-hidden');\n  refs.cartCloseBtnEl.removeEventListener('click', closesCartHandler);\n\n  \n// const addToCartBtnEl = document.querySelector('.goods__slide-btn');\n// const goodsListEl = document.querySelector('.goods-list-js');\n\n// const decremrntEl = document.querySelectorAll('.decrement-js');\n// const incremrntEl = document.querySelectorAll('.increment-js');\n\n// goodsListEl.addEventListener('click', createProductItemHandler);\n}\n\n\n"]}
{"version":3,"sources":["js/refs.js","js/cart.js"],"names":["refs","body","document","menuBtn","querySelector","mobileMenu","closeMobileMenuBtn","mobileLoginEl","loginEl","mobileCartBtnEl","cartBtnEl","backdropEl","formCloseBtn","form","cartSection","cartCloseBtnEl","shoppingListEL","goodsListEl","addEventListener","createProductItemHandler","opensCartHandler","cart","items","addItem","product","createCartItemMurkup","push","setPrice","Number","price","quantity","clear","createProduct","targetBtnParentEl","title","children","textContent","markup","insertAdjacentHTML","e","target","nodeName","parentNode","classList","remove","closesCartHandler","add","removeEventListener"],"mappings":";AAwBeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAxBf,IAAMA,EAAO,CACXC,KAAMC,SAASD,KACfE,QAASD,SAASE,cAAc,gBAChCC,WAAYH,SAASE,cAAc,mBACnCE,mBAAoBJ,SAASE,cAAc,sBAC3CG,cAAeL,SAASE,cAAc,8BACtCI,QAASN,SAASE,cAAc,iBAChCK,gBAAiBP,SAASE,cAAc,6BACxCM,UAAWR,SAASE,cAAc,gBAGlCO,WAAYT,SAASE,cAAc,aACnCQ,aAAc,KACdC,KAAMX,SAASE,cAAc,sBAG7BU,YAAaZ,SAASE,cAAc,SACpCW,eAAgBb,SAASE,cAAc,oBACvCY,eAAgBd,SAASE,cAAc,kBAGvCa,YAAaf,SAASE,cAAc,mBAGvBJ,EAAAA,EAAAA,QAAAA,QAAAA;;ACqCd,aA7DD,IAAA,EAAA,EAAA,QAAA,WA6DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3DDA,EAAKiB,QAAAA,YAAYC,iBAAiB,QAASC,GAC3CnB,EAAKU,QAAAA,UAAUQ,iBAAiB,QAASE,GAEzC,IAAMC,EAAO,CACXC,MAAO,GAEPC,QAAQC,SAAAA,GACNC,EAAqBD,GAChBF,KAAAA,MAAMI,KAAKF,IAGlBG,SAASH,SAAAA,GACAI,OAAAA,OAAOJ,EAAQK,OAASL,EAAQM,UAGzCC,MAAQ,WACNV,EAAKC,MAAQ,KAIjB,SAASU,EAAcC,GACfT,IAAAA,EAAU,GAITA,OAHPA,EAAQU,MAAQD,EAAkBE,SAAS,GAAGC,YAC9CZ,EAAQK,MAAQI,EAAkBE,SAAS,GAAGA,SAAS,GAAGC,YAC1DZ,EAAQM,SAAW,EACZN,EAGT,SAASC,EAAqBD,GACtBa,IAAAA,EAAgBb,OAAAA,OAAAA,EAAQU,MACUV,+CAAAA,OAAAA,EAAQM,SAELT,2FAAAA,OAAAA,EAAKM,SAASH,GAHzD,4CAKKR,EAAAA,QAAAA,eAAesB,mBAAmB,YAAaD,GAGtD,SAASlB,EAAyBoB,GAC5BA,GAAsB,WAAtBA,EAAEC,OAAOC,SAATF,CAGIN,IACAT,EAAUQ,EADUO,EAAEC,OAAOE,YAEnCrB,EAAKE,QAAQC,IAIjB,SAASJ,IACFN,EAAAA,QAAAA,YAAY6B,UAAUC,OAAO,aAC7B7B,EAAAA,QAAAA,eAAeG,iBAAiB,QAAS2B,GAE1B3C,SAASE,cAAc,kBAE/Bc,iBAAiB,QAASC,GAGxC,SAAS0B,IACF/B,EAAAA,QAAAA,YAAY6B,UAAUG,IAAI,aAC1B/B,EAAAA,QAAAA,eAAegC,oBAAoB,QAASF","file":"cart.55719c12.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  body: document.body,\n  menuBtn: document.querySelector('#menu-btn-js'),\n  mobileMenu: document.querySelector('#mobile-menu-js'),\n  closeMobileMenuBtn: document.querySelector('#close-menu-btn-js'),\n  mobileLoginEl: document.querySelector('.mobile-menu__login-btn-js'),\n  loginEl: document.querySelector('.login-btn-js'),\n  mobileCartBtnEl: document.querySelector('.mobile-menu__cart-btn-js'),\n  cartBtnEl: document.querySelector('.cart-btn-js'),\n\n  // registration form\n  backdropEl: document.querySelector('.backdrop'),\n  formCloseBtn: null,\n  form: document.querySelector('.registration-form'),\n\n  // cart\n  cartSection: document.querySelector('.cart'),\n  cartCloseBtnEl: document.querySelector('.cart__close-btn'),\n  shoppingListEL: document.querySelector('.shopping-list'),\n\n  //goods\n  goodsListEl: document.querySelector('.goods-list-js'),\n};\n\nexport default refs;\n","import refs from './refs';\n\nrefs.goodsListEl.addEventListener('click', createProductItemHandler);\nrefs.cartBtnEl.addEventListener('click', opensCartHandler);\n\nconst cart = {\n  items: [],\n\n  addItem(product) {\n    createCartItemMurkup(product);\n    this.items.push(product);\n  },\n\n  setPrice(product) {\n    return Number(product.price) * product.quantity;\n  },\n\n  clear() {\n    cart.items = [];\n  },\n};\n\nfunction createProduct(targetBtnParentEl) {\n  const product = {};\n  product.title = targetBtnParentEl.children[0].textContent;\n  product.price = targetBtnParentEl.children[1].children[0].textContent;\n  product.quantity = 1;\n  return product;\n}\n\nfunction createCartItemMurkup(product) {\n  const markup = `<li>${product.title} \n                    <span id=\"quantity\">${product.quantity}</span>\n                    - total price\n                    <span id=\"total-price\">${cart.setPrice(product)}</span> &#8364;\n                  </li>`;\n  refs.shoppingListEL.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction createProductItemHandler(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  } else {\n    const targetBtnParentEl = e.target.parentNode;\n    const product = createProduct(targetBtnParentEl);\n    cart.addItem(product);\n  }\n}\n\nfunction opensCartHandler() {\n  refs.cartSection.classList.remove('is-hidden');\n  refs.cartCloseBtnEl.addEventListener('click', closesCartHandler);\n\n  const goodsListEl = document.querySelector('.goods-list-js');\n\n  goodsListEl.addEventListener('click', createProductItemHandler);\n}\n\nfunction closesCartHandler() {\n  refs.cartSection.classList.add('is-hidden');\n  refs.cartCloseBtnEl.removeEventListener('click', closesCartHandler);\n}\n"]}